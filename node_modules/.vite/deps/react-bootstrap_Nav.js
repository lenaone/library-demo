"use client";


import { __toESM, require_react } from "./react-CSb6HjG4.js";
import { require_classnames, useBootstrapPrefix } from "./ThemeProvider-CYJN6HCq.js";
import { require_jsx_runtime } from "./jsx-runtime-BmdFIJ0n.js";
import "./Button-Drq05KJo.js";
import { NavbarContext_default, SelectableContext_default, dataAttr, dataProp, makeEventKey, qsa, useUncontrolled } from "./useIsomorphicEffect-BvcUs80O.js";
import { NavContext_default, NavItem_default as NavItem_default$1, NavLink_default, TabContext_default, useForceUpdate } from "./NavLink-Byfa7irn.js";
import { useMergedRefs_default } from "./useMergedRefs-CvefhNQd.js";

//#region node_modules/@restart/ui/esm/Nav.js
var import_classnames$1 = /* @__PURE__ */ __toESM(require_classnames());
var import_react = /* @__PURE__ */ __toESM(require_react());
var import_jsx_runtime = /* @__PURE__ */ __toESM(require_jsx_runtime());
var _excluded = [
	"as",
	"onSelect",
	"activeKey",
	"role",
	"onKeyDown"
];
function _objectWithoutPropertiesLoose(r, e) {
	if (null == r) return {};
	var t = {};
	for (var n in r) if ({}.hasOwnProperty.call(r, n)) {
		if (e.indexOf(n) >= 0) continue;
		t[n] = r[n];
	}
	return t;
}
var noop = () => {};
var EVENT_KEY_ATTR = dataAttr("event-key");
var Nav$1 = /* @__PURE__ */ import_react.forwardRef((_ref, ref) => {
	let { as: Component = "div", onSelect, activeKey, role, onKeyDown } = _ref, props = _objectWithoutPropertiesLoose(_ref, _excluded);
	const forceUpdate = useForceUpdate();
	const needsRefocusRef = (0, import_react.useRef)(false);
	const parentOnSelect = (0, import_react.useContext)(SelectableContext_default);
	const tabContext = (0, import_react.useContext)(TabContext_default);
	let getControlledId, getControllerId;
	if (tabContext) {
		role = role || "tablist";
		activeKey = tabContext.activeKey;
		getControlledId = tabContext.getControlledId;
		getControllerId = tabContext.getControllerId;
	}
	const listNode = (0, import_react.useRef)(null);
	const getNextActiveTab = (offset) => {
		const currentListNode = listNode.current;
		if (!currentListNode) return null;
		const items = qsa(currentListNode, `[${EVENT_KEY_ATTR}]:not([aria-disabled=true])`);
		const activeChild = currentListNode.querySelector("[aria-selected=true]");
		if (!activeChild || activeChild !== document.activeElement) return null;
		const index = items.indexOf(activeChild);
		if (index === -1) return null;
		let nextIndex = index + offset;
		if (nextIndex >= items.length) nextIndex = 0;
		if (nextIndex < 0) nextIndex = items.length - 1;
		return items[nextIndex];
	};
	const handleSelect = (key, event) => {
		if (key == null) return;
		onSelect?.(key, event);
		parentOnSelect?.(key, event);
	};
	const handleKeyDown = (event) => {
		onKeyDown?.(event);
		if (!tabContext) return;
		let nextActiveChild;
		switch (event.key) {
			case "ArrowLeft":
			case "ArrowUp":
				nextActiveChild = getNextActiveTab(-1);
				break;
			case "ArrowRight":
			case "ArrowDown":
				nextActiveChild = getNextActiveTab(1);
				break;
			default: return;
		}
		if (!nextActiveChild) return;
		event.preventDefault();
		handleSelect(nextActiveChild.dataset[dataProp("EventKey")] || null, event);
		needsRefocusRef.current = true;
		forceUpdate();
	};
	(0, import_react.useEffect)(() => {
		if (listNode.current && needsRefocusRef.current) listNode.current.querySelector(`[${EVENT_KEY_ATTR}][aria-selected=true]`)?.focus();
		needsRefocusRef.current = false;
	});
	const mergedRef = useMergedRefs_default(ref, listNode);
	return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(SelectableContext_default.Provider, {
		value: handleSelect,
		children: /* @__PURE__ */ (0, import_jsx_runtime.jsx)(NavContext_default.Provider, {
			value: {
				role,
				activeKey: makeEventKey(activeKey),
				getControlledId: getControlledId || noop,
				getControllerId: getControllerId || noop
			},
			children: /* @__PURE__ */ (0, import_jsx_runtime.jsx)(Component, Object.assign({}, props, {
				onKeyDown: handleKeyDown,
				ref: mergedRef,
				role
			}))
		})
	});
});
Nav$1.displayName = "Nav";
var Nav_default$1 = Object.assign(Nav$1, { Item: NavItem_default$1 });

//#endregion
//#region node_modules/react-bootstrap/esm/CardHeaderContext.js
var context = /* @__PURE__ */ import_react.createContext(null);
context.displayName = "CardHeaderContext";
var CardHeaderContext_default = context;

//#endregion
//#region node_modules/react-bootstrap/esm/NavItem.js
var NavItem = /* @__PURE__ */ import_react.forwardRef(({ className, bsPrefix, as: Component = "div",...props }, ref) => {
	bsPrefix = useBootstrapPrefix(bsPrefix, "nav-item");
	return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(Component, {
		ref,
		className: (0, import_classnames$1.default)(className, bsPrefix),
		...props
	});
});
NavItem.displayName = "NavItem";
var NavItem_default = NavItem;

//#endregion
//#region node_modules/react-bootstrap/esm/Nav.js
var import_classnames = /* @__PURE__ */ __toESM(require_classnames());
var Nav = /* @__PURE__ */ import_react.forwardRef((uncontrolledProps, ref) => {
	const { as = "div", bsPrefix: initialBsPrefix, variant, fill = false, justify = false, navbar, navbarScroll, className, activeKey,...props } = useUncontrolled(uncontrolledProps, { activeKey: "onSelect" });
	const bsPrefix = useBootstrapPrefix(initialBsPrefix, "nav");
	let navbarBsPrefix;
	let cardHeaderBsPrefix;
	let isNavbar = false;
	const navbarContext = (0, import_react.useContext)(NavbarContext_default);
	const cardHeaderContext = (0, import_react.useContext)(CardHeaderContext_default);
	if (navbarContext) {
		navbarBsPrefix = navbarContext.bsPrefix;
		isNavbar = navbar == null ? true : navbar;
	} else if (cardHeaderContext) ({cardHeaderBsPrefix} = cardHeaderContext);
	return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(Nav_default$1, {
		as,
		ref,
		activeKey,
		className: (0, import_classnames.default)(className, {
			[bsPrefix]: !isNavbar,
			[`${navbarBsPrefix}-nav`]: isNavbar,
			[`${navbarBsPrefix}-nav-scroll`]: isNavbar && navbarScroll,
			[`${cardHeaderBsPrefix}-${variant}`]: !!cardHeaderBsPrefix,
			[`${bsPrefix}-${variant}`]: !!variant,
			[`${bsPrefix}-fill`]: fill,
			[`${bsPrefix}-justified`]: justify
		}),
		...props
	});
});
Nav.displayName = "Nav";
var Nav_default = Object.assign(Nav, {
	Item: NavItem_default,
	Link: NavLink_default
});

//#endregion
export { Nav_default as default };
//# sourceMappingURL=react-bootstrap_Nav.js.map